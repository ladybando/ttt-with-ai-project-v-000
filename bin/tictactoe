#!/usr/bin/env ruby

require_relative '../config/environment'

#TicTacToeCLI.new.call


def play_game
  "Welcome! Let's play Tic Tac Toe!"
  "What kind of game would you like to play: 0, 1-, 2-player or wargames?"
  "Please press '0' for 0 player, '1' for 1 player,'2' for 2 player or 'W' for wargames."
end

def start
  play_game
  input = gets.strip
  if input == "0"
    board = Board.new
    game = Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Computer.new("O"))
    game.play
   elsif input == "1"
      board = Board.new
      "Would you like to play first? 'Y' for yes, 'N' for no"
      input = gets.strip

    if input == "Y"
      game = Game.new(player_1 = Players::Human.new("X"), player_2 = Players::Computer.new("O"))
      "Let's go!"
      board.display
      game.play
      elsif input == "N"
        game = Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Human.new("O"))
        board.display
        game.play
      else
        start
      end
        elsif input == "2"
          board = Board.new
          game = Game.new(player_1 = Players::Human.new("X"), player_2 = Players::Human.new("O"))
          "Let's go!"
          board.display
          game.play
          elsif input == "w"
            board = Board.new
            game = Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Computer.new("O"))
            100.times.map {  game.play }
          else
            start
          end
end
  
    def end_game
      while game.over?
        "Would you like to play again?"
      new_input = gets.strip
      if new_input = "Y" || "yes"
        Game.new
      else
        exit
        end
      end
    end
    start